<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transforming DeepGSR: a lightweight genomic signal classifier</title>
    <link rel="stylesheet" href="https://dvgodoy.github.io/DeepGSR/app.css">
</head>
<body>

<div class="main-wrapper">
    <header>
        <h2>ðŸ§¬ Transforming DeepGSR: a lightweight genomic signal classifier</h2>
        <p>Classify up to 2,000 sequences/min on your browser using lightweight Transformer models.</p>
        <div id="hardwareBadge" class="badge badge-hidden">&nbsp;</div>
    </header>

    <p>For PAS (motif AATAAA), sequences must have 606 nucleotides. For TIS (motif ATG), sequences must have 603 nucleotides.</p>

    <section class="card config-section">
        <h3>1. Select Signal Type</h3>
        <div class="controls-row">
            <select id="signalType">
                <option value="PAS">PAS (Polyadenylation Signal)</option>
                <option value="TIS">TIS (Translation Initiation Site)</option>
            </select>
            <div class="sample-buttons">
                <button type="button" id="samplePasBtn" class="btn-secondary">Load PAS Sample</button>
                <button type="button" id="sampleTisBtn" class="btn-secondary">Load TIS Sample</button>
            </div>
        </div>
    </section>

    <div class="input-grid">
        <section class="card">
            <h3>2a. Single Sequence</h3>
            <div class="textarea-container">
                <textarea id="sequenceInput" placeholder="Paste sequence here..." spellcheck="false"></textarea>
                <div id="statsBar">
                    <span>Length: <strong id="statLength">0</strong> bp</span>
                    <span>GC: <strong id="statGC">0.00</strong>%</span>
                </div>
            </div>

            <div style="display: flex; gap: 10px; margin-top: 10px; margin-bottom: 10px;">
                <button id="classifyBtn" class="btn-primary" style="flex: 2;">Classify Single Sequence</button>
                <button type="button" id="clearSingleBtn" class="btn-outline" style="flex: 1; border-color: #6c757d; color: #6c757d;">Clear</button>
            </div>            
            <div id="status" class="status-box" style="display:none;"></div>
            <div id="result" class="result-box" style="display:none;"></div>
        </section>

        <section class="card">
            <h3>2b. Batch FASTA</h3>
            <div class="batch-content">
                <p class="help-text">Upload a FASTA file for high-throughput analysis.</p>
                
                <div class="file-input-wrapper">
                    <input type="file" id="fastaInput" accept=".fasta,.fa,.txt">
                </div>

                <div class="batch-button-row">
                    <button id="batchProcessBtn" class="btn-primary">Start Batch Process</button>
                </div>

                <div id="progressContainer" style="display:none;">
                    <div class="progress-info">
                        <progress id="progressBar" value="0" max="100"></progress>
                        <div id="progressText">Ready...</div>
                    </div>
                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                        <button id="downloadBtn" class="btn-success" style="display:none; flex: 2;">Download CSV Results</button>
                        <button id="stopBatchBtn" class="btn-outline" style="flex: 1; border-color: #dc3545; color: #dc3545;">Stop</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div class="global-actions">
        <button id="resetBtn" class="btn-outline">Clear All / Reset Experiment</button>
    </div>

    <p>Transforming DeepGSR is a lightweight model for recognizing genomic regulatory signals, such as polyadenylation sites (PAS) and translation initiation sites (TIS). Our approach significantly reduces model size while maintaining competitive performance. Using trinucleotide tokenization and models with fewer than 2.2 million parameters, we train on PAS and TIS datasets from human, mouse, bovine, and fruit fly. The models achieve accuracies of up to 83.5% for PAS and 93.1% for TIS. Compared to alternative low-capacity models, the Transformer outperforms in precision and recall, offering a practical solution for bioinformatics applications in resource-limited environments.</p>        
</div>

</body>
<script type="module" src="https://dvgodoy.github.io/DeepGSR/app.js"></script>
</html>